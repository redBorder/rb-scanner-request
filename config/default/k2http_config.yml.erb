backend:
  workers: 20             # Number of workers
  queue: 1000             # Max internal queue size
  retries: -1             # Number of retries on fail (-1 not limited)
  backoff: 3              # Time to wait between retries in seconds             
  max_bytes: <%= (( !node["redBorder"].nil? and !node["redBorder"]["megabytes_limit"].nil? ) ? (node["redBorder"]["megabytes_limit"].to_i * 1024 * 1024 * 1024 / (30.0 * 3600)) : 0 ).to_i %>      # Max bytes per second
  showcounter: 60         # Time in secods to show message ratio

kafka:
  broker: "127.0.0.1:9092"  # kafka broker
  consumergroup: "k2http"   # Consumer group ID   
  begining: false           # Reset offset
  topics:                   # Kafka topics to listen
    - rb_nmsp
    - rb_radius
    - rb_flow
    - rb_loc
    - rb_monitor
    - rb_state
    - rb_social
    - rb_vault
    - sflow
    - rb_scanner
http:
  url: "https://data.<%= node["redBorder"]["cdomain"] %>/rbdata/<%= node["redBorder"]["sensor_uuid"] %>" # URL to the server
  insecure: <%= node["redBorder"]["proxy"]["insecure"].nil? ? "false" : ((node["redBorder"]["proxy"]["insecure"] == true or node["redBorder"]["proxy"]["insecure"] == "true" or node["redBorder"]["proxy"]["insecure"] == "1" ) ? "true" : "false") %>   # Skip SSSL verification
  batchsize: 1000                 # Max messages per batch
  batchtimeout: 100               # Max time to wait for send a batch
  deflate: true                   # Use deflate
  endpoint: topic                 # String to add to the URL as suffix

